
<div class="card flex justify-content-center" style="align-items: center;">
    <p-card header="Registrar pelicula" class="center mt-3 mb-3" [style]="{ width: '625px' }">
        
        <p-toast position="top-center" key="tc"></p-toast>

        <div class="row mb-4">
        
            <div class="col">
                <span class="p-float-label">
                    <input type="text" pInputText id="username" [(ngModel)]="peliNombre" />
                    <label for="username">Nombre</label>
                </span>
            </div>
        
            <div class="col">
                <span class="p-float-label">
                    <input type="text" id="genero" pInputText list="framegenero" [(ngModel)]="peliGenero" />
                    <label for="genero">Categoria</label>
                </span>
            </div>
        
        </div>
        
        <div class="row mt-4">
        
            <div class="col">
                
                <div class="flex justify-content-center">
                    <span class="p-float-label">
                        <textarea [(ngModel)]="peliDescripcion" id="float-input" rows="3" cols="60" pInputTextarea></textarea>
                        <label for="float-input">Descripción</label>
                    </span>
                </div>
            </div>
        
        </div>
        
        <div class="row mt-2">
        
            <div class="col">
                
                <div class="gap-1 fs-6" style="display: flex;
                flex-direction: column;">
                    <label for="username">Fecha de Estreno</label>
                    <input type="date" pInputText id="username" [(ngModel)]="peliEstreno" min="{{getCurrentDate() | date:'yyyy-MM-dd'}}"/>
                </div>

            </div>
        
        </div>
        
        <div class="row mt-2">
        
            <div class="col">
                
                <div class="gap-1 fs-6" style="display: flex;
                flex-direction: column;">
                    <label for="username">Imagen de la Pelicula</label>
                    <input type="file" pInputText id="username"  (change)="onFileChange($event)" accept=".png, .jpeg, .jpg" />
                </div>

            </div>

            <div class="col mt-4">

                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                            Previsualizar imagen
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                            <div class="accordion-body">
                                <div class="image-container" *ngIf="selectedImageUrl">
                                    <img [src]="selectedImageUrl" alt="Selected Image">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
        </div>
        
        <div class="row mt-4">

            <div class="col-sm-4" style="font-weight: 500;">Paletas de Colores</div>
        
            <div class="col-sm-1">
                
                <div class="flex justify-content-center">
                    <input type="color" [(ngModel)]="color_1"/>
                </div>
            </div>
        
            <div class="col-sm-1 ms-1">
                
                <div class="flex justify-content-center">
                    <input type="color" [(ngModel)]="color_2"/>
                </div>
            </div>
        
            <div class="col-sm-1 ms-1">
                
                <div class="flex justify-content-center">
                    <input type="color" [(ngModel)]="color_3"/>
                </div>
            </div>
        
            <div class="col-sm-1 ms-1">
                
                <div class="flex justify-content-center">
                    <input type="color" [(ngModel)]="color_4"/>
                </div>
            </div>
        
            <div class="col-sm-1 ms-1">
                
                <div class="flex justify-content-center">
                    <input type="color" [(ngModel)]="color_5"/>
                </div>
            </div>
        
        </div>


        <div class="row mt-2">

            <small><strong>Nota:</strong> EL orden que pongas los colores de los inputs, sera el orden de como se vera el poster. 
                Desde el color 1-3 son los colores del poster. Color 4 y 1 de las sombras de la imagen. Color 1 sombra del acordion</small>

        </div>

        <div class="row mt-4">

            <div class="col">

                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked #checkboxRef (change)="onCheckboxChange()">
                    <label class="form-check-label" for="flexSwitchCheckChecked" style="font-size:small;">¿Deseas las letras del Titulo blancas?</label>
                </div>

            </div>

            <div class="col">

                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked_2" checked #checkboxRef_2 (change)="onCheckboxChange_2()">
                    <label class="form-check-label" for="flexSwitchCheckChecked_2" style="font-size:small;">¿Deseas las letras del Acordion blancas?</label>
                </div>

            </div>

        </div>

        <div class="row mt-4 d-flex justify-content-end">

            <div class="col">
                <p-toast></p-toast>
                <p-confirmDialog></p-confirmDialog>
                <p-button (click)="confirm1($event)" label="Cancelar" [text]="true" [raised]="true" severity="danger"></p-button>
            </div>

            <div class="col-auto">
                <p-button (click)="actualizar() " [disabled]="!isImageWithinDimensions" label="Guardar" [text]="true" [raised]="true" severity="success"></p-button>
            </div>

        </div>

    </p-card>
</div>


<datalist id="framegenero">
    <option value="Acción"></option>
    <option value="Animadas"></option>
    <option value="Comedia"></option>
    <option value="Romance"></option>
    <option value="Terror"></option>
  </datalist>